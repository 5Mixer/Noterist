<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>cards</title>

		<link rel="stylesheet" href="https://unpkg.com/purecss@1.0.0/build/pure-min.css" integrity="sha384-nn4HPE8lTHyVtfCBi5yW9d20FjT8BJwUXyWZT9InLYax14RDjBj46LmSztkmNP9w" crossorigin="anonymous">
		<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.9/css/all.css" integrity="sha384-5SOiIsAziJl6AWe0HWRKTXlfcSHKmYV4RBF18PPJ173Kzn7jzMyFuTtk8JA7QQG1" crossorigin="anonymous">
		<link rel="stylesheet" href="/css/main.css">
		<link rel="stylesheet" href="/css/sidebar.css">
		<link rel="stylesheet" href="/css/header.css">
		<link rel="stylesheet" href="/css/workbench.css">
	</head>
	<body ng-app="cards" ng-controller="core">

		<header>
			<span class="header"><i class="fa fa-list-alt"></i> cards ({{filtered.length}}/{{cards.length}})

				<div class="icon-bar">
					<a class="active" href="#"><i class="fa fa-home"></i> Home</a>
					<a href="#"><i class="fa fa-lightbulb"></i> Learn</a>
					<a href="#"><i class="fa fa-list-alt"></i> Cards</a>
					<a href="#"><i class="fa fa-file-alt"></i> Study</a>
					<a href="#"><i class="fa fa-file-video"></i> Listen</a>
				</div>

			</span>


			<span class="right">
				<span id="newCard" ng-click="openNewCard()"><i class="fa fa-plus"></i></span>
				<input class="right search" id="name" type="text" placeholder="Search" ng-model="search">
			</span>
		</header>

		<div id="newCardSection" ng-show="newCardDialogOpen">
			<h2>New Card</h2>
			<!-- <form method="post" enctype="multipart/form-data" action="/upload" role="form"> -->
				<input placeholder="Title" name="title" type="text" ng-model="newcard.title"><br>
				<input placeholder="Tags" name="tags" type="text" ng-model="newcard.tags"><br>
				​<textarea placeholder="Description" style="width:calc(100% - 10px)" rows="1" cols="10" ng-model="newcard.description"></textarea><br>

				<input type="file" name="file" accept="image/*" fileread="newcard.file">
				<br>
				<button type="submit" ng-click="newCard()" class="pure-button pure-button-primary">Upload</button>
			<!-- </form> -->
		</div>


		<section id="workbench">
			<div class="card" ng-repeat="card in cards | filter:searchFilter as filtered">
				<!-- <input id="{{::$id}} toggle" class="toggle" type="checkbox" checked> -->
				<input id="{{::$id}} toggle" class="toggle" type="checkbox">
				<label class="toggleBtn" for="{{::$id}} toggle" class="toggle"></label>
				<div id="front">
					<img src="cards/{{card.img}}" alt="">
				</div>
				<div id="expand">
					<h3 ng-hide="card.beingEdited">{{card.title}}</h3>
					<h3 ng-show="card.beingEdited"><input type="text" name="" class="wide" ng-model="card.edits.title"></h3>

					<div>
						<button type="button" class="pure-button" ng-click="edit(card)" ng-hide="card.beingEdited"><i class="fas fa-edit"></i> Edit</button>
						<button type="button" class="pure-button" ng-click="saveEdits(card)" ng-show="card.beingEdited"><i class="fas fa-check"></i> Save edits</button>
						<button type="button" class="pure-button" ng-click="cancelEdits(card)" ng-show="card.beingEdited"><i class="fas fa-times"></i> Cancel edits</button>
						<button type="button" class="pure-button" ng-click="delete(card)" ng-show="card.beingEdited"><i class="fas fa-trash"></i> Delete</button>
					</div>
					<div class="cardNotes">
						<div ng-repeat="tag in card.tags" class="tag" ng-hide="card.beingEdited">
							<span>{{tag}}</span>
						</div><br>
						<span ng-show="card.beingEdited">​<textarea placeholder="Card tags" style="width:calc(100% - 10px)" rows="1" cols="10" ng-model="card.edits.tags"></textarea><br></span>
						<span ng-show="card.beingEdited">​<textarea placeholder="Description and notes regarding card" style="width:calc(100% - 10px)" rows="5" cols="10" ng-model="card.edits.description"></textarea><br></span>

						<div class="cardDescription" ng-hide="card.beingEdited">
							{{card.description || "Notes and comments. (None added to this card yet)." }}
						</div>


					</div>
				</div>
			</div>
		</section>


		<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.6/angular.min.js"></script>
		<script src="js/app.js"></script>
		<script src="js/controller/core.js"></script>
	</body>
</html>
